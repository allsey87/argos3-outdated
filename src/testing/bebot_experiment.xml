<?xml version="1.0" ?>
<argos-configuration>

  <!-- ************************* -->
  <!-- * General configuration * -->
  <!-- ************************* -->
  <framework>
    <experiment threads="1" length="0" ticks_per_second="5"/>
  </framework>

  <!--loop_functions label="dyn3d_testbench_loop_functions" /-->

  <!-- *************** -->
  <!-- * Controllers * -->
  <!-- *************** -->
  <controllers>
    <bebot_controller id="bebot_test_ctrl">
      <actuators>
        <!--pleds implementation="default" medium="leds"/-->
        <joints implementation="default"/>
        <electromagnets implementation="default" show_poles="true" target="electromagnet-q1,electromagnet-q2,electromagnet-q3,electromagnet-q4"/>
        <radios implementation="default" medium="nfc"/>
      </actuators>
      <sensors>
        <cameras implementation="default">
          <algorithms>
            <led_detector medium="leds" camera="duovero_camera" show_rays="false"/>
            <tag_detector medium="apriltags" camera="duovero_camera" show_rays="true"/>
          </algorithms>
        </cameras>
        <joints implementation="default" />
        <radios implementation="default" medium="nfc"/>
        <prototype_proximity implementation="default" show_rays="false"/>
      </sensors>
      <params/>
    </bebot_controller>

    <lua_controller id="block_ctrl">
      <actuators>
        <pleds implementation="default" medium="leds"/>
        <radios implementation="default" medium="nfc"/>         
      </actuators>
      <sensors>
        <radios implementation="default" medium="nfc"/>
      </sensors>
      <params script="src/testing/block_controller.lua"/>
    </lua_controller>

  </controllers>
  
  <!-- *********************** -->
  <!-- * Arena configuration * -->
  <!-- *********************** -->
  <arena size="3, 3, 1" positional_index="grid" positional_grid_size="25,25,1">

    <!--prototype id="test-pattern">
      <body position="-0.155,0,0" orientation="0,0,0" />
      <bodies reference_body="base">
        <body id="base" geometry="box" size="0.1,0.05,0.025" mass="1">
          <coordinates/>
          <offset position="0,0,0" orientation="0,0,0"/>
        </body>
      </bodies>
      <joints/>
      <devices>
        <leds medium="leds">        
          <led id="led_aa" body="base" position="-0.045, 0.0125, 0.0255" color="yellow"/>
          <led id="led_ab" body="base" position="-0.045, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ac" body="base" position="-0.040, 0.0125, 0.0255" color="yellow"/>
          <led id="led_ad" body="base" position="-0.040, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ae" body="base" position="-0.035, 0.0125, 0.0255" color="yellow"/>
          <led id="led_af" body="base" position="-0.035, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ag" body="base" position="-0.030, 0.0125, 0.0255" color="yellow"/>
          <led id="led_ah" body="base" position="-0.030, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ai" body="base" position="-0.025, 0.0125, 0.0255" color="yellow"/>
          <led id="led_aj" body="base" position="-0.025, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ak" body="base" position="-0.020, 0.0125, 0.0255" color="yellow"/>
          <led id="led_al" body="base" position="-0.020, -0.0125, 0.0255" color="yellow"/>
          <led id="led_am" body="base" position="-0.015, 0.0125, 0.0255" color="yellow"/>
          <led id="led_an" body="base" position="-0.015, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ao" body="base" position="-0.010, 0.0125, 0.0255" color="yellow"/>
          <led id="led_ap" body="base" position="-0.010, -0.0125, 0.0255" color="yellow"/>
          <led id="led_aq" body="base" position="-0.005, 0.0125, 0.0255" color="yellow"/>
          <led id="led_ar" body="base" position="-0.005, -0.0125, 0.0255" color="yellow"/>
          <led id="led_as" body="base" position="-0.000, 0.0125, 0.0255" color="yellow"/>
          <led id="led_at" body="base" position="-0.000, -0.0125, 0.0255" color="yellow"/>
          <led id="led_au" body="base" position="0.045, 0.0125, 0.0255" color="yellow"/>
          <led id="led_av" body="base" position="0.045, -0.0125, 0.0255" color="yellow"/>
          <led id="led_aw" body="base" position="0.040, 0.0125, 0.0255" color="yellow"/>
          <led id="led_ax" body="base" position="0.040, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ay" body="base" position="0.035, 0.0125, 0.0255" color="yellow"/>
          <led id="led_az" body="base" position="0.035, -0.0125, 0.0255" color="yellow"/>
          <led id="led_ba" body="base" position="0.030, 0.0125, 0.0255" color="yellow"/>
          <led id="led_bb" body="base" position="0.030, -0.0125, 0.0255" color="yellow"/>
          <led id="led_bc" body="base" position="0.025, 0.0125, 0.0255" color="yellow"/>
          <led id="led_bd" body="base" position="0.025, -0.0125, 0.0255" color="yellow"/>
          <led id="led_be" body="base" position="0.020, 0.0125, 0.0255" color="yellow"/>
          <led id="led_bf" body="base" position="0.020, -0.0125, 0.0255" color="yellow"/>
          <led id="led_bg" body="base" position="0.015, 0.0125, 0.0255" color="yellow"/>
          <led id="led_bh" body="base" position="0.015, -0.0125, 0.0255" color="yellow"/>
          <led id="led_bi" body="base" position="0.010, 0.0125, 0.0255" color="yellow"/>
          <led id="led_bj" body="base" position="0.010, -0.0125, 0.0255" color="yellow"/>
          <led id="led_bk" body="base" position="0.005, 0.0125, 0.0255" color="yellow"/>
          <led id="led_bl" body="base" position="0.005, -0.0125, 0.0255" color="yellow"/>
        </leds>
      </devices>
    </prototype-->

    <!--distribute>
    <position method="grid" center="0,0,0" distances="0.25,0.25,0.25" layout="1,1,1"/>
    <orientation method="constant" values="0,0,0"/>
    <entity quantity="1" max_trials="10" base_num="0"-->
    <prototype id="bebot">
      <controller config="bebot_test_ctrl"/>
      <body position="0,0,0" orientation="0,0,0"/>
      <bodies reference_body="lower-chassis">
        <body id="lower-chassis" geometry="box" size="0.089510,0.057000,0.030000" mass="0.250">
          <coordinates/>
          <offset position="0,0,0.005750"/>
        </body>
        <body id="wheel-front-left" geometry="cylinder" radius="0.01575" height="0.01400" mass="0.100">
          <coordinates/>
          <offset position="0.031750, 0.02850, 0.01575" orientation="0,0,-90"/>
        </body>
        <body id="wheel-front-right" geometry="cylinder" radius="0.01575" height="0.01400" mass="0.100">
          <coordinates/>
          <offset position="0.031750, -0.02850, 0.01575" orientation="0,0,90"/>
        </body>
        <body id="wheel-rear-left" geometry="cylinder" radius="0.01575" height="0.01400" mass="0.100">
          <coordinates/>
          <offset position="-0.031750, 0.02850, 0.01575" orientation="0,0,-90"/>
        </body>
        <body id="wheel-rear-right" geometry="cylinder" radius="0.01575" height="0.01400" mass="0.100">
          <coordinates/>
          <offset position="-0.031750, -0.02850, 0.01575" orientation="0,0,90"/>
        </body>
        <body id="upper-chassis" geometry="box" size="0.089510,0.087500,0.034500" mass="0.200">
          <coordinates/>
          <offset position="0,0,0.035750"/>
        </body>
        <body id="top-fixture" geometry="box" size="0.118600,0.087500,0.010000" mass="0.500">
          <coordinates/>
          <offset position="-0.014545,0,0.07025"/>
        </body>
        <body id="lift-fixture" geometry="box" size="0.0585,0.08750,0.28775" mass="0.500">
          <coordinates/>
          <offset position="0,0,0.080250"/>
        </body>
        <body id="vertical-link" geometry="box" size="0.004000,0.060000,0.103500" mass="0.250">
          <coordinates/>
          <offset position="0.055755,0,0.034750"/>
        </body>
        <body id="horizontal-link" geometry="box" size="0.072000,0.060000,0.010000" mass="0.150">
          <coordinates/>
          <offset position="0.093755,0,0.055750"/>
        </body>
        <body id="electromagnet-q1" geometry="cylinder" radius="0.010" height="0.023500" mass="0.010">
          <coordinates/>
          <offset position="0.070755,0.023000,0.055750"/>
        </body>
        <body id="electromagnet-q2" geometry="cylinder" radius="0.010" height="0.023500" mass="0.010">
          <coordinates/>
          <offset position="0.116755,0.023000,0.055750"/>
        </body>
        <body id="electromagnet-q3" geometry="cylinder" radius="0.010" height="0.023500" mass="0.010">
          <coordinates/>
          <offset position="0.116755,-0.023000,0.055750"/>
        </body>
        <body id="electromagnet-q4" geometry="cylinder" radius="0.010" height="0.023500" mass="0.010">
          <coordinates/>
          <offset position="0.070755,-0.023000,0.055750"/>
        </body>
      </bodies>
      <joints>
        <joint id="wheel-front-left:lower-chassis" disable_collisions="true">
          <frames>
            <frame body="wheel-front-left" position="0,0,0" orientation="0,0,90"/>
            <frame body="lower-chassis" position="0.031750, 0.02850, 0.01000" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="y" mode="angular" range="unconstrained">
              <actuator enabled="true" force="15" target_velocity="0"/>
            </axis>
          </axes>
        </joint>
        <joint id="wheel-front-right:lower-chassis" disable_collisions="true">
          <frames>
            <frame body="wheel-front-right" position="0,0,0" orientation="0,0,-90"/>
            <frame body="lower-chassis" position="0.031750, -0.02850, 0.01000" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="y" mode="angular" range="unconstrained">
              <actuator enabled="true" force="15" target_velocity="0"/>
            </axis>
          </axes>
        </joint>
        <joint id="wheel-rear-left:lower-chassis" disable_collisions="true">
          <frames>
            <frame body="wheel-rear-left" position="0,0,0" orientation="0,0,90"/>
            <frame body="lower-chassis" position="-0.031750, 0.02850, 0.01000" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="y" mode="angular" range="unconstrained">
              <actuator enabled="true" force="15" target_velocity="0"/>
            </axis>
          </axes>
        </joint>
        <joint id="wheel-rear-right:lower-chassis" disable_collisions="true">
          <frames>
            <frame body="wheel-rear-right" position="0,0,0" orientation="0,0,-90"/>
            <frame body="lower-chassis" position="-0.031750, -0.02850, 0.01000" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="y" mode="angular" range="unconstrained">
              <actuator enabled="true" force="15" target_velocity="0"/>
            </axis>
          </axes>
        </joint>
        <joint id="upper-chassis:lower-chassis" disable_collisions="true">
          <frames>
            <frame body="upper-chassis" position="0,0,0" orientation="0,0,0"/>
            <frame body="lower-chassis" position="0,0,0.030000" orientation="0,0,0"/>
          </frames>
        </joint>           
        <joint id="top-fixture:upper-chassis" disable_collisions="true">
          <frames>
            <frame body="top-fixture" position="0.014545,0,0" orientation="0,0,0"/>
            <frame body="upper-chassis" position="0,0,0.034500" orientation="0,0,0"/>
          </frames>
        </joint>
        <joint id="lift-fixture:top-fixture" disable_collisions="true">
          <frames>
            <frame body="lift-fixture" position="0,0,0" orientation="0,0,0"/>
            <frame body="top-fixture" position="0.014545,0,0.010000" orientation="0,0,0"/>
          </frames>
        </joint>           
        <joint id="lift-fixture:vertical-link" disable_collisions="true">
          <frames>
            <frame body="lift-fixture" position="0.055755,0,-0.045500" orientation="0,0,0"/>
            <frame body="vertical-link" position="0,0,0" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="z" mode="linear" range="-0.0005:0.1375">
              <actuator enabled="true" force="20" target_velocity="0"/>
            </axis>
          </axes>
        </joint>
        <joint id="vertical-link:horizontal-link" disable_collisions="true">
          <frames>
            <frame body="vertical-link" position="0.038000,0,0.021000" orientation="0,0,0"/>
            <frame body="horizontal-link" position="0,0,0" orientation="0,0,0"/>
          </frames>
        </joint>
        <joint id="horizontal-link:electromagnet-q1" disable_collisions="true">
          <frames>
            <frame body="horizontal-link" position="-0.023000,0.023000,0" orientation="0,0,0"/>
            <frame body="electromagnet-q1" position="0,0,0" orientation="0,0,0"/>
          </frames>
        </joint>
        <joint id="horizontal-link:electromagnet-q2" disable_collisions="true">
          <frames>
            <frame body="horizontal-link" position="0.023000,0.023000,0" orientation="0,0,0"/>
            <frame body="electromagnet-q2" position="0,0,0" orientation="0,0,0"/>
          </frames>
        </joint>
        <joint id="horizontal-link:electromagnet-q3" disable_collisions="true">
          <frames>
            <frame body="horizontal-link" position="0.023000,-0.023000,0" orientation="0,0,0"/>
            <frame body="electromagnet-q3" position="0,0,0" orientation="0,0,0"/>
          </frames>
        </joint>
        <joint id="horizontal-link:electromagnet-q4" disable_collisions="true">
          <frames>
            <frame body="horizontal-link" position="-0.023000,-0.023000,0" orientation="0,0,0"/>
            <frame body="electromagnet-q4" position="0,0,0" orientation="0,0,0"/>
          </frames>
        </joint>
      </joints>
      <devices>
        <cameras>
          <camera id="duovero_camera"
                  body="vertical-link"
                  position="0.056500,0,0.080280"
                  orientation="-90,135,0"
                  roll="0"
                  field_of_view="180"
                  range="0.2"
                  focal_length="883.961,883.961"
                  principle_point="319.5,179.5"
                  distortion_parameters="0,0,0"
                  resolution="640,360"
                  enabled="true"/>
        </cameras>
        <proximity_sensors>
          <sensor body="horizontal-link" offset="0.036000,0,0.007300" direction="1,0,0" range="0.20"/>
          <sensor body="horizontal-link" offset="0.001000,0,0.001000" direction="0,0,-1" range="0.02"/>
          <sensor body="vertical-link" offset="0.002000,0.016000,-0.007900" direction="1,0,0" range="0.20"/>
          <sensor body="vertical-link" offset="0.002000,-0.016000,-0.007900" direction="1,0,0" range="0.20"/>
        </proximity_sensors>
        <electromagnets>
          <electromagnet body="electromagnet-q1" passive_field="0,0,100" active_field="0,0,100"/>
          <electromagnet body="electromagnet-q2" passive_field="0,0,100" active_field="0,0,100"/>
          <electromagnet body="electromagnet-q3" passive_field="0,0,100" active_field="0,0,100"/>
          <electromagnet body="electromagnet-q4" passive_field="0,0,100" active_field="0,0,100"/>
        </electromagnets>
        <radios>
          <radio id="radio" medium="nfc" duplex_mode="half" body="vertical-link" position="0.002000,0,-0.007900" orientation="0,0,0" range="0.02"/>
        </radios>
      </devices>
    </prototype>
    <!--/entity>
    </distribute-->
    
    <!--prototype id="block1">
        <body position="0,0.05,0.25"  orientation="-90,45,180"/>
        <bodies reference_body="block">
        <body id="block" geometry="box" size="0.025,0.025,0.025" mass="0.125">
        <offset/>
        <coordinates/>
        </body>
        </bodies>
        <devices>
        <leds medium="leds">
        <led id="top" body="block" position="0.000,0.000,0.025" color="red"/>
        <led id="side" body="block" position="0.0125,0.000,0.0125" color="blue"/>
        </leds>
        </devices>
        </prototype-->

    <!--prototype id="block2">
        <body position="0,-0.05,0.25"  orientation="90,135,0"/>
        <bodies reference_body="block">
        <body id="block" geometry="box" size="0.025,0.025,0.025" mass="0.125">
        <offset/>
        <coordinates/>
        </body>
        </bodies>
        <devices>
        <leds medium="leds">
        <led id="top" body="block" position="0.000,0.000,0.025" color="red"/>
        <led id="side" body="block" position="0.0125,0.000,0.0125" color="blue"/>
        </leds>
        </devices>
        </prototype-->


    <distribute>
   <!--position method="grid" center="0.325,0,0" distances="0.060,0.060,0.0" layout="6,3,1"/-->
    <position method="grid" center="0.175,0,0" distances="0.060,0.060,0.0" layout="1,1,1"/>   
    <!--orientation method="grid" center="0,0,0" distances="30,0,0" layout="3,1,1"/-->
    <orientation method="constant" values="0,0,0"/>
    <entity quantity="1" max_trials="10" base_num="0">
    <prototype id="smartblock">
      <!--body position="0.225,0,0.025"  orientation="0,0,0"/-->
      <!--controller config="block_ctrl"/-->
      <bodies reference_body="block">
        <body id="block" geometry="box" size="0.055,0.055,0.055" mass="1">
          <offset/>
          <coordinates/>
        </body>
        <body id="magnet_tq1" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="0.0225,0.0225,0.047" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_tq2" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="-0.0225,0.0225,0.047" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_tq3" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="-0.0225,-0.0225,0.047" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_tq4" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="0.0225,-0.0225,0.047" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_bq1" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="0.0225,0.0225,0.002" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_bq2" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="-0.0225,0.0225,0.002" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_bq3" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="-0.0225,-0.0225,0.002" orientation="0,0,0"/>
          <coordinates/>
        </body>
        <body id="magnet_bq4" geometry="sphere" radius="0.003" mass="0.001">
          <offset position="0.0225,-0.0225,0.002" orientation="0,0,0"/>
          <coordinates/>
        </body>
      </bodies>
      <joints>
        <joint id="block:magnet_tq1" disable_collisions="true">
          <frames>
            <frame body="block" position="0.0225,0.0225,0.050" orientation="0,0,0"/>
            <frame body="magnet_tq1" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
        <joint id="block:magnet_tq2" disable_collisions="true">
          <frames>
            <frame body="block" position="-0.0225,0.0225,0.050" orientation="0,0,0"/>
            <frame body="magnet_tq2" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>            
        </joint>
        <joint id="block:magnet_tq3" disable_collisions="true">
          <frames>
            <frame body="block" position="-0.0225,-0.0225,0.050" orientation="0,0,0"/>
            <frame body="magnet_tq3" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
        <joint id="block:magnet_tq4" disable_collisions="true">
          <frames>
            <frame body="block" position="0.0225,-0.0225,0.050" orientation="0,0,0"/>
            <frame body="magnet_tq4" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
        <joint id="block:magnet_bq1" disable_collisions="true">
          <frames>
            <frame body="block" position="0.0225,0.0225,0.005" orientation="0,0,0"/>
            <frame body="magnet_bq1" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
        <joint id="block:magnet_bq2" disable_collisions="true">
          <frames>
            <frame body="block" position="-0.0225,0.0225,0.005" orientation="0,0,0"/>
            <frame body="magnet_bq2" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
        <joint id="block:magnet_bq3" disable_collisions="true">
          <frames>
            <frame body="block" position="-0.0225,-0.0225,0.005" orientation="0,0,0"/>
            <frame body="magnet_bq3" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
        <joint id="block:magnet_bq4" disable_collisions="true">
          <frames>
            <frame body="block" position="0.0225,-0.0225,0.005" orientation="0,0,0"/>
            <frame body="magnet_bq4" position="0,0,0.003" orientation="0,0,0"/>
          </frames>
          <axes>
            <axis direction="x" mode="angular" range="unconstrained"/>
            <axis direction="y" mode="angular" range="unconstrained"/>
            <axis direction="z" mode="angular" range="unconstrained"/>
          </axes>
        </joint>
      </joints>
      <devices>
        <electromagnets>
          <electromagnet body="magnet_tq1" passive_field="0,0,100"/>
          <electromagnet body="magnet_tq2" passive_field="0,0,100"/>
          <electromagnet body="magnet_tq3" passive_field="0,0,100"/>
          <electromagnet body="magnet_tq4" passive_field="0,0,100"/>
          <electromagnet body="magnet_bq1" passive_field="0,0,100"/>
          <electromagnet body="magnet_bq2" passive_field="0,0,100"/>
          <electromagnet body="magnet_bq3" passive_field="0,0,100"/>
          <electromagnet body="magnet_bq4" passive_field="0,0,100"/>
        </electromagnets>
        <tags medium="apriltags">
          <tag id="top" body="block" localizable="true" position="0.000,0.000,0.056" orientation="0,0,0"   payload="top" side_length="0.024"/>
          <tag id="north" body="block" localizable="true" position="0.0285,0.000,0.0275" orientation="0,90,0"  payload="north" side_length="0.024"/>
          <tag id="east" body="block" localizable="true" position="0.000,-0.0285,0.0275" orientation="0,0,90"  payload="east" side_length="0.024"/>
          <tag id="south" body="block" localizable="true" position="-0.0285,0.000,0.0275" orientation="0,-90,0" payload="south" side_length="0.024"/>
          <tag id="west" body="block" localizable="true" position="0.000,0.0285,0.0275" orientation="0,0,-90" payload="west" side_length="0.024"/>
          <tag id="bottom" body="block" localizable="true" position="0.000,0.000,-0.001" orientation="0,0,180" payload="bottom" side_length="0.024"/>
        </tags>
        <leds medium="leds">
          <led id="top_a" body="block" position="0.000,0.020,0.056" color="red"/>
          <led id="top_b" body="block" position="0.020,0.000,0.056" color="red"/>
          <led id="top_c" body="block" position="0.000,-0.020,0.056" color="red"/>
          <led id="top_d" body="block" position="-0.020,0.000,0.056" color="red"/>
          <led id="north_a" body="block" position="0.0285,0.000,0.0475" color="black"/>
          <led id="north_b" body="block" position="0.0285,0.020,0.0275" color="black"/>
          <led id="north_c" body="block" position="0.0285,0.000,0.0075" color="black"/>
          <led id="north_d" body="block" position="0.0285,-0.020,0.0275" color="black"/>
          <led id="east_a" body="block" position="0.000,-0.0285,0.0475" color="black"/>
          <led id="east_b" body="block" position="0.020,-0.0285,0.0275" color="black"/>
          <led id="east_c" body="block" position="0.000,-0.0285,0.0075" color="black"/>
          <led id="east_d" body="block" position="-0.020,-0.0285,0.0275" color="black"/>
          <led id="south_a" body="block" position="-0.0285,0.000,0.0475" color="black"/>
          <led id="south_b" body="block" position="-0.0285,-0.020,0.0275" color="black"/>
          <led id="south_c" body="block" position="-0.0285,0.000,0.0075" color="black"/>
          <led id="south_d" body="block" position="-0.0285,0.020,0.0275" color="black"/>
          <led id="west_a" body="block" position="0.000,0.0285,0.0475" color="black"/>
          <led id="west_b" body="block" position="-0.020,0.0285,0.0275" color="black"/>
          <led id="west_c" body="block" position="0.000,0.0285,0.0075" color="black"/>
          <led id="west_d" body="block" position="0.020,0.0285,0.0275" color="black"/>
          <led id="bottom_a" body="block" position="0.000,0.020,-0.001" color="black"/>
          <led id="bottom_b" body="block" position="0.020,0.000,-0.001" color="black"/>
          <led id="bottom_c" body="block" position="0.000,-0.020,-0.001" color="black"/>
          <led id="bottom_d" body="block" position="-0.020,0.000,-0.001" color="black"/>
        </leds>
        <radios>
          <radio medium="nfc" duplex_mode="half" id="top" body="block" localizable="true" position="0.000,0.000,0.050" orientation="0,0,0" range="0.020"/>
          <radio medium="nfc" duplex_mode="half" id="north" body="block" localizable="true" position="0.0225,0.000,0.0275" orientation="0,90,0" range="0.020"/>
          <radio medium="nfc" duplex_mode="half" id="east" body="block" localizable="true" position="0.000,-0.0225,0.0275" orientation="0,0,90" range="0.020"/>
          <radio medium="nfc" duplex_mode="half" id="south" body="block" localizable="true" position="-0.0225,0.000,0.0275" orientation="0,-90,0" range="0.020"/>
          <radio medium="nfc" duplex_mode="half" id="west" body="block" localizable="true" position="0.000,0.0225,0.0275" orientation="0,0,-90" range="0.020"/>
          <radio medium="nfc" duplex_mode="half" id="bottom" body="block" localizable="true" position="0.000,0.000,0.005" orientation="0,0,180" range="0.020"/>
        </radios>
      </devices>
    </prototype>
    </entity>
    </distribute>

</arena>

<!-- ********* -->
<!-- * Media * -->
<!-- ********* -->
<media>
  <led id="leds" index="grid" grid_size="20,20,20" />
  <tag id="apriltags" index="grid" grid_size="20,20,20" />
  <radio id="nfc" index="grid" grid_size="20,20,20" />
</media>

<!-- ******************* -->
<!-- * Physics engines * -->
<!-- ******************* -->
<physics_engines>
  <dynamics3d id="dyn3d" iterations="20">
    <floor/>
    <plugins>
      <gravity g="9.8"/>
      <magnetism/>
    </plugins>
  </dynamics3d>
</physics_engines>

<!-- ****************** -->
<!-- * Visualization * -->
<!-- ****************** -->
<visualization>
  <!-- ************************************************************************ -->
  <!-- * To activate the Lua editor, just use the 'lua_editor' flag attribute * -->
  <!-- ************************************************************************ -->
  <qt-opengl lua_editor="false">
    <user_functions label="camera_user_functions" library="build/testing/qt_camera_visualisation/libcamera_loop_functions.so"/>
    <camera>
      <placement idx="0" position="0.100255,0.000001,0.18603" look_at="0.200255,0.000001,0.08603" lens_focal_length="20" />
      <!--placement idx="0" position="0,-0.5,0.25" look_at="0.01,0.01,0.125" lens_focal_length="20" /-->
      <placement idx="1" position="0.5,-0.5,0.25" look_at="0.125,-0.125,0.125" lens_focal_length="30" />
      <placement idx="2" position="0.5,0,0.25" look_at="0.01,0.01,0.125" lens_focal_length="20" />
      <placement idx="3" position="0.5,0.5,0.25" look_at="0.125,0.125,0.125" lens_focal_length="30" />
      <placement idx="4" position="0, 0.5,0.25" look_at="0.01,0.01,0.125" lens_focal_length="20" />
      <placement idx="5" position="-0.5,0.5,0.25" look_at="-0.125,0.125,0.125" lens_focal_length="30" />
      <placement idx="6" position="-0.5,0,0.25" look_at="0.01,0.01,0.125" lens_focal_length="20" />
      <placement idx="7" position="-0.5,-0.5,0.25" look_at="-0.125,-0.125,0.125" lens_focal_length="30" />
      <placement idx="8" position="0,0,1" look_at="0.01,0.01,0.125" lens_focal_length="10" />
    </camera>
  </qt-opengl>
</visualization>

</argos-configuration>
